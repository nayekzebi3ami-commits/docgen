<div class="min-h-screen bg-gray-900 text-white p-4 sm:p-6">
    <h1 class="text-3xl sm:text-4xl font-bold mb-6 sm:mb-8 text-center text-blue-400 animate-fade-in-up">Mes Tickets
    </h1>

    <div class="max-w-4xl mx-auto">
        <button (click)="openCreateTicketModal()"
            class="mb-6 bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded transition-colors duration-300 flex items-center w-full sm:w-auto justify-center sm:justify-start animate-fade-in-left animate-delay-100">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd"
                    d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z"
                    clip-rule="evenodd" />
            </svg>
            Créer un nouveau ticket
        </button>

        <div class="bg-gray-800 rounded-lg shadow-xl overflow-x-auto animate-fade-in-up animate-delay-200">
            <table class="w-full">
                <thead>
                    <tr class="bg-gray-700">
                        <th
                            class="px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">
                            ID</th>
                        <th
                            class="px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">
                            Titre</th>
                        <th
                            class="px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">
                            Statut</th>
                        <th
                            class="px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">
                            Créé le</th>
                        <th
                            class="px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">
                            Mis à jour</th>
                    </tr>
                </thead>
                <tbody class="divide-y divide-gray-700 ">
                    <tr *ngFor="let ticket of tickets; let i = index"
                        class="hover:bg-gray-700 transition-colors duration-200 animate-fade-in-right"
                        [ngStyle]="{'animation-delay': 300 + i * 100 + 'ms'}">
                        <td class="px-4 sm:px-6 py-4 whitespace-nowrap">{{ticket.id}}</td>
                        <td class="px-4 sm:px-6 py-4">{{ticket.title}}</td>
                        <td class="px-4 sm:px-6 py-4">
                            <span
                                [class]="'px-2 inline-flex text-xs leading-5 font-semibold rounded-full ' + getStatusColor(ticket.status)">
                                {{ticket.status}}
                            </span>
                        </td>
                        <td class="px-4 sm:px-6 py-4 whitespace-nowrap">{{ticket.createdAt | date:'dd/MM/yyyy'}}</td>
                        <td class="px-4 sm:px-6 py-4 whitespace-nowrap">{{ticket.updatedAt | date:'dd/MM/yyyy'}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- Modal pour créer un nouveau ticket -->
    <div *ngIf="showCreateTicketModal"
        class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 animate-fade-in-up">
        <div class="bg-gray-800 p-6 sm:p-8 rounded-lg w-full max-w-md">
            <h2 class="text-xl sm:text-2xl font-bold mb-4 text-blue-400">Créer un nouveau ticket</h2>
            <div class="space-y-4">
                <div>
                    <label for="ticket-title" class="block text-sm font-medium text-gray-400">Titre</label>
                    <input id="ticket-title" type="text"
                        class="mt-1 block w-full bg-gray-700 border border-gray-600 rounded-md shadow-sm py-2 px-3 text-white">
                </div>
                <div>
                    <label for="ticket-description" class="block text-sm font-medium text-gray-400">Description</label>
                    <textarea id="ticket-description" rows="4"
                        class="mt-1 block w-full bg-gray-700 border border-gray-600 rounded-md shadow-sm py-2 px-3 text-white"></textarea>
                </div>
                <div class="flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-3">
                    <button (click)="closeCreateTicketModal()"
                        class="bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded transition-colors duration-300 w-full sm:w-auto">
                        Annuler
                    </button>
                    <button (click)="createTicket('Nouveau ticket', 'Description du ticket')"
                        class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded transition-colors duration-300 w-full sm:w-auto">
                        Créer
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>